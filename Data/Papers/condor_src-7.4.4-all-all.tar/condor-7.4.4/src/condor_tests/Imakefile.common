/***********************************************************************
**  Common settings shared by *all* test-related Imakefiles
***********************************************************************/

CONDOR_COMPILE_FLAGS = $(LIB_DIR) $(LD_DIR) 

/*
   We need this target here as the first rule, so that "make" is the
   same as "make all" (by having an "all::" target as the very first
   rule).  In addition, this particular all:: target ensures that we
   create all the various lists we need (dealing with test classes and
   the like).  This way, we can catch errors right away, and we get
   all that stuff out of the way early in the build.
*/
all:: $(PRE_BUILT_RELEASE)/lib $(PRE_BUILT_RELEASE)/bin all_lists 
all_lists:: list_all


/***************************************************
* Test "Class" declarations
***************************************************/

/* Every test must be in one, and only one, of the 
  following time to run categories.  'quick' means less than 5 minutes
  on a slow machine.
*/
TESTCLASS_DECL(quick)
TESTCLASS_DECL(long)

/* Every long or quick test must be in class full
	for when we weekly run regular and the long tests
*/
TESTCLASS_DECL(full)

/* 
	Tests which do not link to condor libraries(32 bit binary testing 
	on 64 bit platforms
*/
TESTCLASS_DECL(quicknolink)

/* In addition to one of the above time-to-run categories, each test
   may be in zero or more of the below 'functional categories'
*/
TESTCLASS_DECL(env)

/* every standard universe test must be in rsc and/or ckpt class. Which class
it goes into is determined by primarily what it tests. */
TESTCLASS_DECL(rsc)
TESTCLASS_DECL(ckpt)

/* every standard universe job must be in the stduniv class */
TESTCLASS_DECL(stduniv)

TESTCLASS_DECL(btdebug)
TESTCLASS_DECL(condorc)
TESTCLASS_DECL(core)
TESTCLASS_DECL(critical)
TESTCLASS_DECL(dagman)
TESTCLASS_DECL(filexfer)
TESTCLASS_DECL(framework)
TESTCLASS_DECL(java)
TESTCLASS_DECL(lib)
TESTCLASS_DECL(local)
TESTCLASS_DECL(performance)
TESTCLASS_DECL(simple) /* used for testing test process - simple non-compiled tests */
TESTCLASS_DECL(time) /* time deferral and crondor type tests */


/***************************************************
* Special-case rules for building helpers, etc.
***************************************************/

clean::
	rm -f *.o *.exe *.exe.*
	rm -f core core.*.* *.out *.output *.err *.log
	rm -f CkptFile ckpt_file *.ckpt list_all

x_waste_second.o: x_waste_second.c
	$(CC) -c x_waste_second.c $(CFLAGS)

clean::
	rm -f x_waste_second.o

release::
stripped::
static::

