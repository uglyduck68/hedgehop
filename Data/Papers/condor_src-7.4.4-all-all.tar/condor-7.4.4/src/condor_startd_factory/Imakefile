NAME = condor_startd_factory
all_target( $(NAME) )

CFLAGS = $(STD_C_FLAGS)
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS)
LIB = $(DAEMONCORE_LIB) $(STD_LIBS) $(CONFIGURE_GSOAP_LDFLAGS)
PUBLIC_INSTALL_DIR = src/startd_factory/BlueGeneP

soapobjs(startd_factory)

OBJ = startd_factory_main.o startd_factory.o partition.o partition_mgr.o \
	workload.o workload_mgr.o \
	$(SOAP_OBJS)

public_c_plus_target($(NAME),sbin,$(OBJ),$(LIB))

public_copy_target(bgp_query_work_loads,libexec,bgp_query_work_loads,EXECUTABLE_MODE)
public_copy_target(bgp_generate_partition,libexec,bgp_generate_partition,EXECUTABLE_MODE)
public_copy_target(bgp_destroy_partition,libexec,bgp_destroy_partition,EXECUTABLE_MODE)
public_copy_target(bgp_available_partitions,libexec,bgp_available_partitions,EXECUTABLE_MODE)
public_copy_target(bgp_boot_partition,libexec,bgp_boot_partition,EXECUTABLE_MODE)
public_copy_target(bgp_shutdown_partition,libexec,bgp_shutdown_partition,EXECUTABLE_MODE)
public_copy_target(bgp_back_partition,libexec,bgp_back_partition,EXECUTABLE_MODE)

public_copy_target(htc_list_partitions.c,$(PUBLIC_INSTALL_DIR),htc_list_partitions.c,TEXT_MODE)
public_copy_target(htc_tool.c,$(PUBLIC_INSTALL_DIR),htc_tool.c,TEXT_MODE)

html:
release:: all
stripped:: all
static:: all
clean::

gen_soapfiles(startd_factory,condorStartdFactory)

testbin:: all
