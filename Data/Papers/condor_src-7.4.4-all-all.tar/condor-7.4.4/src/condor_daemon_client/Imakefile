#if HAVE_EXT_CLASSADS
#define New_classads_includes	-I$(NEW_CLASSADS_INC) -I../classad_analysis
#define New_classads_obj	dc_credd.o dc_lease_manager.o dc_lease_manager_lease.o
#else
#define New_classads_includes
#define New_classads_obj
#endif
all_target(libdaemonclient.a)

CFLAGS = $(STD_C_FLAGS) New_classads_includes $(CONFIGURE_PCRE_CFLAGS)
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) $(FIX_BROKEN_GCC) New_classads_includes $(CONFIGURE_PCRE_CFLAGS)
LIB = $(STD_LIBS) $(CONFIGURE_PCRE_LDFLAGS)

### NOTE!  If you add anything here, also add it to the
### DAEMON_CLIENT_OBJ line in condor_c++_util/Imakefile   
OBJ = daemon.o daemon_types.o dc_shadow.o dc_startd.o dc_schedd.o \
	dc_collector.o dc_starter.o daemon_list.o New_classads_obj dc_message.o \
	dc_master.o dc_transferd.o dc_transfer_queue.o

library_target(libdaemonclient.a,$(OBJ))

c_plus_target(daemon.t,daemon.t.o libdaemonclient.a,$(LIB))



c_plus_target(dc_startd.t,dc_startd.t.o libdaemonclient.a,$(LIB))
c_plus_target(dc_starter.t,dc_starter.t.o libdaemonclient.a,$(LIB))

html_target( documentation )

release:: all
stripped:: all
static:: all
testbin:: all
