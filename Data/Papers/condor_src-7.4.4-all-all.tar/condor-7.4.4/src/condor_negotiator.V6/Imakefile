NAME = condor_negotiator
all_target($(NAME))

CFLAGS = $(STD_C_FLAGS) $(CONFIGURE_PCRE_CFLAGS)
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) $(CONFIGURE_PCRE_CFLAGS)
LIB = $(DAEMONCORE_LIB) $(STD_LIBS) $(CONFIGURE_GSOAP_LDFLAGS) $(CONFIGURE_PCRE_LDFLAGS)

soapobjs(negotiator)

#if HAVE_DLOPEN
PLUGIN_OBJ = NegotiatorPluginManager.o

%-plugin.so: %.cpp
	$(CPlusPlus) $(C_PLUS_FLAGS) -shared $< -o $@
#endif

OBJ = Accountant.o matchmaker.o main.o  $(SOAP_OBJS) $(PLUGIN_OBJ)

public_c_plus_target($(NAME),sbin,$(OBJ),$(LIB))

html:

gen_soapfiles(negotiator,condorNegotiator)

testbin:: all
