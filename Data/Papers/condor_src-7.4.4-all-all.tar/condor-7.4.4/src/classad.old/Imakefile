all_target(libclassad.a)

C_PLUS_FLAGS = $(CLASSAD_FLAGS) -Wall $(STD_C_PLUS_FLAGS) $(CONFIGURE_PCRE_CFLAGS)
CFLAGS = -Wall $(STD_C_FLAGS) $(CONFIGURE_PCRE_CFLAGS)
LIB = $(STD_LIBS) $(CONFIGURE_PCRE_LDFLAGS)


OBJ = ast.o astbase.o buildtable.o parser.o scanner.o registration.o \
	  attrlist.o classad.o environment.o \
	  value.o operators.o evaluateOperators.o  \
	  xml_classads.o new_classads.o classad_list.o classad_util.o

depend_cplus_objects_target(OBJ)

library_target(libclassad.a,$(OBJ))

c_plus_target(test,test.o,libclassad.a $(LIB))
c_plus_target(test_classads,test_classads.o,$(LIB))




testbin_target(test_classads,755)

shared:
	gcc -fPIC -shared -o libshared.so shared.cpp

clean::
	rm -f *.o libclassad.a

release:: all
stripped:: all
static:: all
html:
testbin:: all
